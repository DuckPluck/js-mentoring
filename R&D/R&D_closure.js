// –ó–∞–¥–∞—á–∏ - https://webdevblog.ru/7-voprosov-dlya-sobesedovaniya-o-zamykanie-v-javascript-smozhete-li-vy-na-nih-otvetit/
// –ó–∞–¥–∞—á–∏ - https://habr.com/ru/company/ruvds/blog/340194/
// –ó–∞–¥–∞—á–∏ (–¥–ª—è —Ä–∞–∑–æ–≥—Ä–µ–≤–∞) - https://youtu.be/evBCOVv8lUI?t=2434


// =========== –¢–µ–æ—Ä–∏—è ===========
let x = 10;
function foo() {
  console.log(x);
}
function bar() {
  let x = 20;
  foo();           // Output: 10 (—Ç–∫ –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –≥–¥–µ —Å–æ–∑–¥–∞–Ω–∞, –∞ –Ω–µ –≥–¥–µ –≤—ã–∑–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è)
}
bar();
// –ó–∞–º—ã–∫–∞–Ω–∏–µ - —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ç–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—É(–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º), –≥–¥–µ –æ–Ω–∞ —Å–æ–∑–¥–∞–Ω–∞.

// (!) –ü—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–æ–µ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, —Å—Å—ã–ª–∞—é—â–µ–µ—Å—è –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —ç–ª-—Ç
// –õ–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (LexicalEnvironment) - –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–π –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏\–±–ª–æ–∫–µ\—Å–∫—Ä–∏–ø—Ç–µ, —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:
// 1. Environment Record - –æ–±—ä–µ–∫—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –Ω–µ–∫–æ—Ç–æ—Ä–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Ç–∏–ø–∞ this
// 2. [[Environment]] - –ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è, –æ–Ω–∞ –ø–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –≤–Ω–µ—à–Ω–µ–µ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.
// [[Environment]] –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç this) –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –¥–æ—Å—Ç–∏–∂–∏–º–æ—Å—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —ç–ª-—Ç–∞, –ø–æ–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è –∂–∏–≤–∞.


// –õ–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–∞ for —Ä–∞–±–æ—Ç–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ –∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –¥—Ä—É–≥–∏—Ö —Ü–∏–∫–ª–æ–≤:
// –∫–∞–∂–¥—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä. –Ω–æ–≤–æ–µ, —Ç–æ –µ—Å—Ç—å –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ —Å–æ —Å–ª–µ–¥. –∑–Ω–∞—á–µ–Ω–∏–µ–º - —É–Ω–∏–∫–∞–ª—å–Ω–∞ –∫–∞–∂–¥—ã–π —à–∞–≥
const arr10 = [];
for (let i = 0; i < 10; i++) {

  const foo = function () {
    console.log(`for: ${i}`);
  };

  arr10.push(foo);
}
arr10[5]();       // Output: for: 5
arr10[9]();       // Output: for: 9


// —Ç–æ –∂–µ —Å–∞–º–æ–µ, —Ç–æ–ª—å–∫–æ —Å —Ü–∏–∫–ª–æ–º while:
const arr11 = [];
let i = 0;
while (i < 10) {

  const foo = function () {
    console.log(`while: ${i}`);
  };

  arr11.push(foo);
  i++;
}
arr11[5]();       // Output: while: 10
arr11[9]();       // Output: while: 10


// –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Ö –∂–µ —Ü–µ–ª–µ–π, —á—Ç–æ –∏ —Ñ—É–Ω–∫—Ü–∏—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (—Å–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –≤–ª–æ–∂–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π),
// –Ω–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (—Ç–æ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –Ω–∏–º –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —É —Å–æ–∑–¥–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏)
// –æ–±—ã—á–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —á–µ—Ä–µ–∑ this, new:
function Constructor() {
  this.name = 'pupa';
  this.getName = function () {
    return this.name;
  };
}
const foo5 = new Constructor();
console.log(
    foo5.getName(),    // Output: 'pupa'
    foo5.name,         // Output: 'pupa'
);

// –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ:
function closureConstructor() {
  const name = 'lupa';
  return {
    getName() {return name}
  };
}
const foo6 = closureConstructor();
console.log(
    foo6.getName(),     // Output: 'lupa'
    foo6.name,          // Output: 'undefined'
);

// –û–±—ã—á–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É this, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–º —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —Å–µ–±—è.
// –£ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è –Ω–µ—Ç this, –∑–∞—Ç–æ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é —Å –ø–æ–º–æ—â—å—é —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ Named Function Expression (NFE)

// `Named Function Expression (NFE)` - —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ '—Å—Å—ã–ª–∞–Ω–∏—è' —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ —Å–µ–±—è (this –≤ –º–∏—Ä–µ —Ñ—É–Ω–∫—Ü–∏–π).
let foo7 = function (name) {
  return name ? `name is: ${name}` : foo7('guest');
}
const foo8 = foo7;
foo7 = null;
// console.log(foo8());      // TypeError: foo7 is not a function

let foo77 = function func(name) {
  return name ? `name is: ${name}` : func('guest');
}
const foo88 = foo77;
foo77 = null;
console.log(foo88());      // Output: 'name is: guest'
//                                                            –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Function Declaration.


// =========== –ó–∞–¥–∞—á–∏ ===========
// (–Ω–µ –Ω–∞–¥–æ –≥–æ–≤–æ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç—ã, –Ω–∞–¥–æ '–¥–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è' —á—Ç–æ–±—ã –≤—Å–µ —Å–∞–º–∏ –¥–æ–¥—É–º–∞–ª–∏—Å—å, –∞ –ø–æ—Ç–æ–º —Ä–µ–∑—é–º–∏—Ä–æ–≤–∞—Ç—å)

// –í–æ—Ç —ç—Ç—É –º–æ–∂–Ω–æ –¥–≤—É–º—è —á–∞—Å—Ç—è–º–∏ –ø—Ä–µ–ø–æ–¥–Ω–µ—Å—Ç–∏:
// // 1. –ß—Ç–æ –±—É–¥–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏?
// let jopa = 1;
// function foo1() {
//   console.log(jopa);
// }
// function foo2() {
//   let jopa = 2;
//   foo1();
// }
// foo2();
// // –û—Ç–≤–µ—Ç: 1, —Ç–∫ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–º—ã–∫–∞–µ—Ç—Å—è –Ω–∞ —Ç–æ–º, —á—Ç–æ –æ–∫—Ä—É–∂–∞–µ—Ç –µ–µ –≤–æ –≤—Ä–µ–º—è –µ–µ —Ä–æ–∂–¥–µ–Ω–∏—è (–æ–±—ä—è–≤–ª–µ–Ω–∏—è).


// // 2. –ß—Ç–æ –±—É–¥–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏?    (–≤–∞—Ä–∏–∞—Ü–∏—è 2: –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ foo22 –≤–Ω—É—Ç—Ä—å foo11 –û—Ç–≤–µ—Ç: 1 2 2 - –∑–∞–º—ã–∫–∞–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π a)
// function foo22() {
//   console.log(a);
// }
// function foo11() {
//   var a = 2;
//   console.log(a);
//   foo22();
// }
// var a = 1;
// console.log(a);
// foo11();
// // –û—Ç–≤–µ—Ç: 1 2 1 - log –≤ –Ω–∞—á–∞–ª–µ => –ª–æ–∫–∞–ª—å–Ω–∞—è a => –∑–∞–º—ã–∫–∞–Ω–∏–µ –Ω–∞ –∞


// // 3. –ö–∞–∫–∞—è –∏–∑ —ç—Ç–∏—Ö —Ç—Ä–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π —è–≤–ª—è–µ—Ç—Å—è –∑–∞–º—ã–∫–∞–Ω–∏–µ–º –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏?
// // 1)
// let countClicks = 0;
// (function clickHandler() {
//   countClicks++;
// })()
//
// // 2)
// const result = (function immediate(number) {
//   const message = `number is: ${number}`;
//   return message;
// })(100);
//
// // 3)
// setTimeout(function delayedReload() {
//   globalThis.reload();
// }, 1000);
// // –û—Ç–≤–µ—Ç: 1 - —Å–æ–∑–¥–∞–µ—Ç –∑–∞–º—ã–∫–∞–Ω–∏–µ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π countClicks –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏;
// // 2 - –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∑–∞–º—ã–∫–∞–Ω–∏–µ–º, —Ç–∫ –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –Ω–∏ –∫ –∫–∞–∫–∏–º –≤–Ω–µ—à–Ω–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º;
// // 3 - —Å–æ–∑–¥–∞–µ—Ç –∑–∞–º—ã–∫–∞–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Å–≤-–≤–æ–º


// // 4. –ß—Ç–æ –±—É–¥–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏? –ë—É–¥–µ—Ç –ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏–µ –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–µ–ª–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏?
// let arrowCounter = 0;
// const arrowFoo = () => {
//   let arrowCounter = 10;
//
//   (function foo8 () {
//     console.log('arrow: ' + arrowCounter++);
//   })();
//
// };
// arrowFoo();
// // –û—Ç–≤–µ—Ç: 11. –î–∞, –±—É–¥–µ—Ç, —É —Å—Ç—Ä–µ–ª–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∫–∞–∫ –∏ —É –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö –µ—Å—Ç—å –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ


// // 5. –ß—Ç–æ –±—É–¥–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏?
// (function fooA(a) {
//   return (function fooB(b) {
//     console.log(a);
//   })(1);
// })(0);
// // –û—Ç–≤–µ—Ç: 0 - —Ü–µ–ª—å –∑–∞–¥–∞—á–∏ –∑–∞–ø—É—Ç–∞—Ç—å, b –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è


// // 6. –ß—Ç–æ –±—É–¥–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏?
// let count = 0;
// (function immediate() {
//   if (count === 0) {
//     let count = 1;
//     console.log(count);
//   }
//   console.log(count);
// })();
// // –û—Ç–≤–µ—Ç: 1 0 - —á–µ–º—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ª–æ–∫–∞–ª—å–Ω–∞—è count? –∫–∞–∫–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ —É let? -
// // –≤ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ if —Å–æ–∑–¥–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è count, –¥–∞–ª–µ–µ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∑–∞–º—ã–∫–∞–Ω–∏–µ –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—É—é count


// // 7. –ß—Ç–æ –±—É–¥–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏?
// const arr = ['ü•ë', '‚òéÔ∏è', 'üé®', 'üê¥'];
// for (var i = 0; i < arr.length; i++) {
//   setTimeout(function() {
//     console.log('Index: ' + i + ', element: ' + arr[i]);
//   }, 3000);
// }
// // –û—Ç–≤–µ—Ç: 'Index: 4, element: undefined'; 'Index: 4, element: undefined'; 'Index: 4, element: undefined'; 'Index: 4, element: undefined';
// // setTimeout –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—Å–µ—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π —Ü–∏–∫–ª–∞ –∏ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–º—ã–∫–∞–Ω–∏–µ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π i, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–≤–Ω–∞ 4.
// // –∫–∞–∂–¥—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é –º—ã –ø–æ–ª—É—á–∞–µ–º –Ω–æ–≤–æ–µ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –Ω–æ –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ var –∏–º–µ–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏,
// // –∫–∞–∂–¥—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é –º—ã –ø–æ–ª—É—á–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –æ–¥–Ω—É –∏ —Ç—É –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é var


// // 8. –ß—Ç–æ –±—É–¥–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏?
// function createIncrement() {
//   let count = 0;
//
//   function increment() {
//     count++;
//   }
//
//   let message = `Count is ${count}`;
//   function log() {
//     console.log(message);
//   }
//
//   return [increment, log];
// }
// const [increment, log] = createIncrement();
// increment();
// increment();
// increment();
// log();
// // –û—Ç–≤–µ—Ç: 0 - —Ç–∫ message –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –Ω—É–ª–µ–≤–æ–π count, –¥–∞–ª–µ–µ count –ø–æ–≤—ã—à–∞–µ—Ç—Å—è, –Ω–æ message —É–∂–µ –æ–±—ä—è–≤–ª–µ–Ω–∞
